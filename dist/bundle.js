/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/js/Board.js":(t,e,n)=>{n.r(e),n.d(e,{Board:()=>k});var i=n("./src/js/Config.js");function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,a,r,o,s=[],u=!0,l=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=r.call(n)).done)&&(s.push(i.value),s.length!==e);u=!0);}catch(t){l=!0,a=t}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,u(i.key),i)}}function u(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}function l(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function c(t,e,n){return t.set(p(t,e),n),n}function v(t,e){return t.get(p(t,e))}function p(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var d=new WeakMap,f=new WeakMap,h=new WeakMap,g=new WeakMap,y=new WeakMap,m=new WeakMap,C=new WeakMap,b=new WeakMap,w=new WeakMap,k=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,d,void 0),l(this,f,void 0),l(this,h,void 0),l(this,g,void 0),l(this,y,void 0),l(this,m,void 0),l(this,C,void 0),l(this,b,void 0),l(this,w,void 0),c(d,this,e),c(f,this,0),c(h,this,0),c(g,this,0),c(y,this,this.createGrid()),c(m,this,this.createGrid(!1)),c(C,this,this.createGrid(!1)),c(b,this,this.createGrid(!1)),c(w,this,this.createGrid(!1))},e=[{key:"getApp",value:function(){return v(d,this)}},{key:"getIsAlive",value:function(){return v(f,this)}},{key:"setIsAlive",value:function(t){c(f,this,t)}},{key:"getGeneration",value:function(){return v(h,this)}},{key:"setGeneration",value:function(t){c(h,this,t)}},{key:"getTotalAlive",value:function(){return v(g,this)}},{key:"setTotalAlive",value:function(t){c(g,this,t)}},{key:"getGrid",value:function(){return v(y,this)}},{key:"setGrid",value:function(t){c(y,this,t)}},{key:"getGridValue",value:function(t,e){return v(y,this)[t][e]}},{key:"setGridValue",value:function(t,e,n){v(y,this)[t][e]=n}},{key:"getGridHistory",value:function(){return v(m,this)}},{key:"setGridHistory",value:function(t){c(m,this,t)}},{key:"getGridHistoryValue",value:function(t,e){return v(m,this)[t][e]}},{key:"setGridHistoryValue",value:function(t,e,n){v(m,this)[t][e]=n}},{key:"getGridNumberNeighbors",value:function(){return v(C,this)}},{key:"setGridNumberNeighbors",value:function(t){c(C,this,t)}},{key:"getGridNumberNeighborsValue",value:function(t,e){return v(C,this)[t][e]}},{key:"setGridNumberNeighborsValue",value:function(t,e,n){v(C,this)[t][e]=n}},{key:"getGridTypeNeighbors",value:function(){return v(b,this)}},{key:"setGridTypeNeighbors",value:function(t){c(b,this,t)}},{key:"getGridTypeNeighborsValue",value:function(t,e){return v(b,this)[t][e]}},{key:"setGridTypeNeighborsValue",value:function(t,e,n){v(b,this)[t][e]=n}},{key:"getGridEnableDraw",value:function(){return v(w,this)}},{key:"setGridEnableDraw",value:function(t){c(w,this,t)}},{key:"getGridEnableDrawValue",value:function(t,e){return v(w,this)[t][e]}},{key:"setGridEnableDrawValue",value:function(t,e,n){v(w,this)[t][e]=n}},{key:"initializeGrids",value:function(t){this.setGrid(t),this.setGridHistory(Array.from({length:t.length},(function(){return Array(t[0].length).fill(i.Config.DEAD)}))),this.setGridNumberNeighbors(Array.from({length:t.length},(function(){return Array(t[0].length).fill(i.Config.DEAD)}))),this.setGridTypeNeighbors(Array.from({length:t.length},(function(){return Array(t[0].length).fill(i.Config.DEAD)}))),this.setGridEnableDraw(Array.from({length:t.length},(function(){return Array(t[0].length).fill(i.Config.DEAD)})))}},{key:"initPlaneur",value:function(){var t=this;[[12,5],[12,6],[12,7],[13,7],[14,6]].forEach((function(e){t.setGridValue(e[0],e[1],1)})),[[5,12],[5,13],[5,14],[6,14],[7,13]].forEach((function(e){t.setGridValue(e[0],e[1],2)}))}},{key:"getRandomCellState",value:function(){for(var t=Math.random(),e=0,n=0;n<this.getApp().getWeights().length;n++)if(t<=(e+=this.getApp().getWeights()[n]))return n;return i.Config.DEAD}},{key:"createGridRandom",value:function(){var t=this;return Array.from({length:this.getApp().getRowCanvas()},(function(){return Array.from({length:t.getApp().getColumnCanvas()},(function(){return t.getRandomCellState()}))}))}},{key:"createGrid",value:function(){var t=this;return Array.from({length:this.getApp().getRowCanvas()},(function(){return Array.from({length:t.getApp().getColumnCanvas()},(function(){return i.Config.DEAD}))}))}},{key:"applyPattern",value:function(t,e,n){var a=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.Config.ALIVE1;t.forEach((function(t){var i=r(t,2),s=i[0],u=i[1],l=e+s,c=n+u;l>=0&&l<a.getApp().getRowCanvas()&&c>=0&&c<a.getApp().getColumnCanvas()&&a.setGridValue(l,c,o)}))}},{key:"getNextGeneration",value:function(){this.setGeneration(this.getGeneration()+1),this.calculateNeighbors();var t=this.createNextGrid();this.setGrid(t),this.updateHistoryGrid()}},{key:"updateHistoryGrid",value:function(){for(var t=0;t<this.getApp().getRowCanvas();t++)for(var e=0;e<this.getApp().getColumnCanvas();e++)i.Config.aliveValuesSet.has(this.getGridValue(t,e))?this.setGridHistoryValue(t,e,this.getGridHistoryValue(t,e)+1):this.setGridHistoryValue(t,e,0)}},{key:"isWithinGridBounds",value:function(t,e){return t>=0&&t<this.getApp().getRowCanvas()&&e>=0&&e<this.getApp().getColumnCanvas()}},{key:"applyBoundaryRules",value:function(t,e){var n=this.getApp().getRowCanvas(),i=this.getApp().getColumnCanvas();return-1===t&&(t=n-1),t===n&&(t=0),-1===e&&(e=i-1),e===i&&(e=0),-2===t&&(t=n-2),t===n+1&&(t=1),-2===e&&(e=i-2),e===i+1&&(e=1),[t,e]}},{key:"calculateNeighbors",value:function(t,e){for(var n=0;n<this.getApp().getRowCanvas();n++)for(var i=0;i<this.getApp().getColumnCanvas();i++){var a=r(this.countNeighbors(n,i),2),o=a[0],s=a[1];this.setGridNumberNeighborsValue(n,i,o),this.setGridTypeNeighborsValue(n,i,s)}}},{key:"countAliveCells",value:function(){for(var t=0,e=0;e<this.getApp().getRowCanvas();e++)for(var n=0;n<this.getApp().getColumnCanvas();n++)i.Config.aliveValuesSet.has(this.getGridValue(e,n))&&t++;this.setIsAlive(t),this.setTotalAlive(this.getTotalAlive()+t)}},{key:"countNeighbors",value:function(t,e){var n=this,a=0,o=0;return i.Config.MIDDLES.Plaine.forEach((function(s){var u=t+s.y,l=e+s.x;if(!n.getApp().getBorder()){var c=r(n.applyBoundaryRules(u,l),2);u=c[0],l=c[1]}if(n.isWithinGridBounds(u,l)){var v=n.getGridValue(u,l);i.Config.aliveValuesSet.has(v)&&(a+=1,o+=v)}})),a?[a,Math.round(o/a)]:[0,0]}},{key:"createNextGrid",value:function(){for(var t=[],e=0;e<this.getApp().getRowCanvas();e++){for(var n=[],i=0;i<this.getApp().getColumnCanvas();i++){var a=this.getGridTypeNeighborsValue(e,i),r=this.getGridNumberNeighborsValue(e,i),o=this.getGridValue(e,i),s=this.determineNextCellValue(o,a,r);n.push(s)}t.push(n)}return t}},{key:"determineNextCellValue",value:function(t,e,n){return i.Config.aliveValuesSet.has(t)?this.getApp().getBirth().has(n)?t:i.Config.DEAD:t===i.Config.DEAD?this.getApp().getSurvival().has(n)?e:i.Config.DEAD:t===i.Config.WALL?i.Config.WALL:void 0}},{key:"moveUp",value:function(){var t=this.getGrid().slice(1);t.push(Array(this.getApp().getColumnCanvas()).fill(i.Config.DEAD)),this.setGrid(t)}},{key:"moveDown",value:function(){var t=[];t.push(Array(this.getApp().getColumnCanvas()).fill(i.Config.DEAD)),t=t.concat(this.getGrid().slice(0,this.getApp().getRowCanvas()-1)),this.setGrid(t)}},{key:"moveLeft",value:function(){for(var t=0;t<this.getApp().getRowCanvas();t++){for(var e=0;e<this.getApp().getColumnCanvas()-1;e++)this.setGridValue(t,e,this.getGridValue(t,e+1));this.setGridValue(t,this.getApp().getColumnCanvas()-1,i.Config.DEAD)}}},{key:"moveRight",value:function(){for(var t=0;t<this.getApp().getRowCanvas();t++){for(var e=this.getApp().getColumnCanvas()-1;e>0;e--)this.setGridValue(t,e,this.getGridValue(t,e-1));this.setGridValue(t,0,i.Config.DEAD)}}}],e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}()},"./src/js/BoardCanvas.js":(t,e,n)=>{n.r(e),n.d(e,{BoardCanvas:()=>f});var i=n("./src/js/Config.js");function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,o(i.key),i)}}function o(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}function s(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function u(t,e,n){return t.set(c(t,e),n),n}function l(t,e){return t.get(c(t,e))}function c(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var v=new WeakMap,p=new WeakMap,d=new WeakMap,f=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,v,void 0),s(this,p,void 0),s(this,d,void 0),u(v,this,e),u(p,this,document.querySelector("canvas")),u(d,this,l(p,this).getContext("2d")),this.setupCanvas()},(e=[{key:"getApp",value:function(){return l(v,this)}},{key:"getCanvas",value:function(){return l(p,this)}},{key:"getCtx",value:function(){return l(d,this)}},{key:"setDimensionsCanvas",value:function(){this.getCanvas().width=this.getApp().getColumnCanvas()*this.getApp().getCellSize(),this.getCanvas().height=this.getApp().getRowCanvas()*this.getApp().getCellSize()}},{key:"setupCanvas",value:function(){this.setDimensionsCanvas(),this.getCtx().fillStyle=i.Config.canvasBgColor,this.getCtx().fillRect(0,0,this.getCanvas().width,this.getCanvas().height)}},{key:"clearCanvas",value:function(){this.getCtx().clearRect(0,0,this.getCanvas().width,this.getCanvas().height)}},{key:"drawGrid",value:function(){this.clearCanvas();for(var t=0;t<this.getApp().getRowCanvas();t++)for(var e=0;e<this.getApp().getColumnCanvas();e++){var n=this.getApp().getBoard().getGridValue(t,e),a=this.getApp().getCellSize();i.Config.notDeadValueSet.has(n)&&(this.getCtx().fillStyle=this.getColorFromIndex(n,t,e),this.getCtx().fillRect(e*a,t*a,a,a))}this.getApp().getLines()&&this.drawLines()}},{key:"drawLines",value:function(){this.getCtx().strokeStyle="rgb(100, 100, 100)",this.getCtx().lineWidth=1;for(var t=this.getApp().getCellSize(),e=0;e<this.getApp().getRowCanvas();e++)this.getCtx().beginPath(),this.getCtx().moveTo(0,e*t),this.getCtx().lineTo(this.getCanvas().width,e*t),this.getCtx().stroke();for(var n=0;n<this.getApp().getColumnCanvas();n++)this.getCtx().beginPath(),this.getCtx().moveTo(n*t,0),this.getCtx().lineTo(n*t,this.getCanvas().height),this.getCtx().stroke()}},{key:"getColorFromIndex",value:function(t,e,n){var i=100;switch(this.getApp().getHistory()&&(i-=.2*this.getApp().getBoard().getGridHistoryValue(e,n))<10&&(i=10),t){case 0:return"hsl(0, 0%, 0%)";case 1:return"hsl(200, ".concat(i,"%, 50%)");case 2:return"hsl(0, ".concat(i,"%, 50%)");case 3:return"hsl(60, ".concat(i,"%, 50%)");case 4:return"hsl(100, ".concat(i,"%, 50%)");case 9:return"hsl(320, ".concat(i,"%, 100%)");default:return""}}}])&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}()},"./src/js/Config.js":(t,e,n)=>{function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}function r(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,e||"default");if("object"!=i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}n.r(e),n.d(e,{Config:()=>u});var u=r((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));o(u,"MIN_CELL_SIZE",3),o(u,"MAX_CELL_SIZE",250),o(u,"MIN_COL",2),o(u,"MAX_COL",250),o(u,"DEAD",0),o(u,"ALIVE1",1),o(u,"ALIVE2",2),o(u,"ALIVE3",3),o(u,"ALIVE4",4),o(u,"WALL",9),o(u,"MIDDLES",{Desert:[{name:"N",x:0,y:-1},{name:"E",x:1,y:0},{name:"S",x:0,y:1},{name:"O",x:-1,y:0}],Ville:[{name:"N-1",x:0,y:-1},{name:"N-2",x:0,y:-2},{name:"E-1",x:1,y:0},{name:"E-2",x:2,y:0},{name:"S-1",x:0,y:1},{name:"S-2",x:0,y:2},{name:"O-1",x:-1,y:0},{name:"O-2",x:-2,y:0}],Plaine:[{name:"N",x:0,y:-1},{name:"NE",x:1,y:-1},{name:"E",x:1,y:0},{name:"SE",x:1,y:1},{name:"S",x:0,y:1},{name:"SO",x:-1,y:1},{name:"O",x:-1,y:0},{name:"NO",x:-1,y:-1}],Foret:[{name:"N-1",x:0,y:-1},{name:"N-2",x:0,y:-2},{name:"NE",x:1,y:-1},{name:"E-1",x:1,y:0},{name:"E-2",x:2,y:0},{name:"SE",x:1,y:1},{name:"S-1",x:0,y:1},{name:"S-2",x:0,y:2},{name:"SO",x:-1,y:1},{name:"O-1",x:-1,y:0},{name:"O-2",x:-2,y:0},{name:"NO",x:-1,y:-1}],Mer:[{name:"N-1",x:0,y:-1},{name:"N-2",x:0,y:-2},{name:"NE-1",x:1,y:-1},{name:"NE-2",x:2,y:-2},{name:"E-1",x:1,y:0},{name:"E-2",x:2,y:0},{name:"SE-1",x:1,y:1},{name:"SE-2",x:2,y:2},{name:"S-1",x:0,y:1},{name:"S-2",x:0,y:2},{name:"SO-1",x:-1,y:1},{name:"SO-2",x:-2,y:2},{name:"O-1",x:-1,y:0},{name:"O-2",x:-2,y:0},{name:"NO-1",x:-1,y:-1},{name:"NO-2",x:-2,y:-2}]}),o(u,"aliveValuesSet",new Set([1,2,3,4])),o(u,"notDeadValueSet",new Set([1,2,3,4,9])),o(u,"canvasBgColor","black")},"./src/js/EventHandler.js":(t,e,n)=>{n.r(e),n.d(e,{EventHandler:()=>h});var i=n("./src/js/Config.js"),a=n("./src/js/utils.js"),r=n("./src/js/HTML.js");function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,a,r,o,s=[],u=!0,l=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=r.call(n)).done)&&(s.push(i.value),s.length!==e);u=!0);}catch(t){l=!0,a=t}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(t,e)||u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){if(t){if("string"==typeof t)return l(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,v(i.key),i)}}function v(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function p(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function d(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var f=new WeakMap,h=function(){return t=function t(e){var n,i,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f,void 0),i=this,a=e,(n=f).set(d(n,i),a),this.initialize()},e=[{key:"getApp",value:function(){return e=this,(t=f).get(d(t,e));var t,e}},{key:"updateStartButton",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=(0,a.$)("#startIcon"),n=(0,a.$)("#pauseIcon"),i="none"===e.style.display;t&&!i||(e.style.display=i?"block":"none",n.style.display=i?"none":"block",r.HTML.startPrincipalButton.title=i?"Démarrer":"Pause",this.getApp().toggleAnimation())}},{key:"updateWeights",value:function(t){var e=Array.from(r.HTML.weightFullRandomInputs).reduce((function(t,e){return t+parseFloat(e.value)}),0),n=(1-e).toFixed(2);if(n<0&&(n=0),r.HTML.weightRandomSpan0.textContent=n,r.HTML.weightRandomInput0.value=n,e>1){var i=(e-1)/(r.HTML.weightFullRandomInputs.length-1);r.HTML.weightFullRandomInputs.forEach((function(e){e!==t&&(e.value=Math.max(parseFloat(e.value)-i,0))}))}}},{key:"validateGrid",value:function(t){var e,n=t[0].length,i=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;if(a.length!==n||!/^[012349]+$/.test(a))return!1}}catch(t){i.e(t)}finally{i.f()}return!0}},{key:"displayDivButtons",value:function(t,e,n){var i,a=this,r=function(e){i=a.toggleVisibilityWithDelay(t,e,300,i)};e.addEventListener("mouseover",(function(){return r(!0)})),n.addEventListener("mouseover",(function(){return r(!0)})),n.addEventListener("mouseout",(function(t){n.contains(t.relatedTarget)||r(!1)}))}},{key:"updateDrawButton",value:function(){r.HTML.drawPrincipalButton.classList.toggle("active"),this.getApp().setEnableDraw(!this.getApp().getEnableDraw()),this.getApp().toggleDrawingEvents()}},{key:"toggleVisibilityWithDelay",value:function(t,e,n,i){return clearTimeout(i),e?(t.style.display="flex",null):setTimeout((function(){t.style.display="none"}),n)}},{key:"initialize",value:function(){this.initializeSimulationIcon(),this.initializeSaveButton(),this.initializeLoadModal(),this.initiatilizeEnterButton(),this.initializeCopyIcon(),this.initializeStepIcon(),this.initializeJumpIcon(),this.initializeStartIcon(),this.initializeRapidityIcon(),this.initializeColorIcon(),this.initializeDrawIcon(),this.initializeTrashIcon(),this.initializeGridIcon(),this.initializeBordureIcon(),this.initializeHistoryIcon(),this.initializeArrowsButton(),this.initializeZoomButton(),this.initializeDefineRulesButton(),this.initializePredefineRulesButton(),this.initializeDocButton(),this.initializeKeyboard()}},{key:"initializeSimulationIcon",value:function(){var t=this;r.HTML.simulationPrincipalButton.addEventListener("click",(function(){t.updateStartButton(!0)})),this.initializeConfigurerModal(),this.initializeWeightModal()}},{key:"initializeConfigurerModal",value:function(){var t=this;function e(t,e,n){var i=parseInt(t.value,10);return isNaN(i)?e:i>n?n:i<e?e:i}r.HTML.applyConfigureButton.addEventListener("click",(function(){var n=e(r.HTML.rowsConfigureInput,i.Config.MIN_COL,i.Config.MAX_COL),a=e(r.HTML.columnsConfigureInput,i.Config.MIN_COL,i.Config.MAX_COL),o=e(r.HTML.cellSizeConfigureInput,i.Config.MIN_CELL_SIZE,i.Config.MAX_CELL_SIZE);t.updateStartButton(!0),t.getApp().cleanGrid(),t.getApp().formatGrid(n,a,o);var s=t.getApp().getBoard().createGridRandom();t.getApp().getBoard().initializeGrids(s),t.getApp().getBoardCanvas().setDimensionsCanvas(),t.getApp().getBoardCanvas().drawGrid()}))}},{key:"initializeWeightModal",value:function(){var t=this;r.HTML.weightFullRandomInputs.forEach((function(t,e){r.HTML.weightRandomSpans[e].textContent="(".concat(t.value,")")})),r.HTML.weightFullRandomInputs.forEach((function(e){e.addEventListener("input",(function(){t.updateWeights(e),r.HTML.weightFullRandomInputs.forEach((function(t,e){r.HTML.weightRandomSpans[e].textContent="(".concat(t.value,")")}))}))})),r.HTML.applyRandombutton.addEventListener("click",(function(){var e=[];e.push(r.HTML.weightRandomInput0.value),r.HTML.weightFullRandomInputs.forEach((function(t){e.push(t.value)})),t.getApp().setWeights(e.map(Number)),r.HTML.hasardConfigureCheckbox.checked=!0}))}},{key:"initializeSaveButton",value:function(){var t=this;r.HTML.savePrincipalButton.addEventListener("click",(function(){t.getApp().stopAnimation(),t.updateStartButton(!0)})),this.initializeSaveModal()}},{key:"initializeSaveModal",value:function(){var t=this;r.HTML.applySaveButton.addEventListener("click",(function(){for(var e=r.HTML.nameSaveInput.value.toLowerCase().trim();!e;)e=prompt("Veuillez entrer un nom pour la sauvegarde.").toLowerCase().trim();var n=t.getApp().getBoard().getGrid(),i=JSON.parse(localStorage.getItem("saveNames"))||[],a=JSON.parse(localStorage.getItem("savesLifeGame"))||{};if(a[e]){if(!confirm("Une sauvegarde portant le même nom existe déjà. Voulez-vous la remplacer ?"))return}else i.push(e);a[e]=n,localStorage.setItem("saveNames",JSON.stringify(i)),localStorage.setItem("savesLifeGame",JSON.stringify(a)),r.HTML.nameSaveInput.value=""}))}},{key:"initializeLoadModal",value:function(){var t=this;r.HTML.loadPrincipalButton.addEventListener("click",(function(){t.getApp().stopAnimation(),t.updateStartButton(!0),r.HTML.configLoadSelect.innerHTML="",(JSON.parse(localStorage.getItem("saveNames"))||[]).forEach((function(t){var e=document.createElement("option");e.value=t,e.textContent=t,r.HTML.configLoadSelect.appendChild(e)}))})),r.HTML.applyLoadButton.addEventListener("click",(function(){var e=r.HTML.configLoadSelect.value,n=(JSON.parse(localStorage.getItem("savesLifeGame"))||{})[e];t.updateStartButton(!0),t.getApp().cleanGrid(),t.getApp().formatGrid(n.length,n[0].length,t.getApp().getCellSize()),t.getApp().getBoard().initializeGrids(n),t.getApp().getBoardCanvas().setDimensionsCanvas(),t.getApp().getBoardCanvas().drawGrid()}))}},{key:"initiatilizeEnterButton",value:function(){this.initializeEnterModal()}},{key:"initializeEnterModal",value:function(){var t,e,n=this;r.HTML.arrayGridEnterInput.addEventListener("input",(function(){e=r.HTML.arrayGridEnterInput.value.trim().split("\n"),(t=n.validateGrid(e))?(r.HTML.arrayGridEnterInput.classList.add("valid"),r.HTML.arrayGridEnterInput.classList.remove("invalid"),r.HTML.errorGridEnterP.classList.add("d-none")):(r.HTML.arrayGridEnterInput.classList.add("invalid"),r.HTML.arrayGridEnterInput.classList.remove("valid"),r.HTML.errorGridEnterP.classList.remove("d-none")),r.HTML.applyGridEnterButton.disabled=!t})),r.HTML.applyGridEnterButton.addEventListener("click",(function(){t&&(e=e.map((function(t){return Array.from(t,Number)})),n.updateStartButton(!0),n.getApp().cleanGrid(),n.getApp().formatGrid(e.length,e[0].length,n.getApp().getCellSize()),n.getApp().getBoard().initializeGrids(e),n.getApp().getBoardCanvas().setDimensionsCanvas(),n.getApp().getBoardCanvas().drawGrid())}))}},{key:"initializeCopyIcon",value:function(){var t=this;r.HTML.copyPrincipalButton.addEventListener("click",(function(){var e=t.getApp().getBoard().getGrid().map((function(t){return t.join("")})).join("\n"),n=document.createElement("textarea");n.style.position="fixed",n.style.opacity="0",n.style.left="-9999px",n.style.top="-9999px",n.value=e,document.body.appendChild(n),n.select(),n.setSelectionRange(0,n.value.length),navigator.clipboard.writeText(e).then((function(){alert("Le texte a été copié dans le presse-papier.")})).finally((function(){document.body.removeChild(n)}))}))}},{key:"initializeStepIcon",value:function(){var t=this;r.HTML.stepPrincipalButton.addEventListener("click",(function(){t.getApp().calculateNextGeneration()}))}},{key:"initializeJumpIcon",value:function(){var t=this;this.displayDivButtons(r.HTML.jumpDiv,r.HTML.jumpPrincipalButton,r.HTML.jumpParent),r.HTML.jumpButtons.forEach((function(e){e.addEventListener("click",(function(){r.HTML.jumpButtons.forEach((function(t){return t.classList.remove("bg-success","text-light")})),e.classList.add("bg-success","text-light"),t.getApp().setStep(e.dataset.jump),r.HTML.jumpDiv.style.display="none",t.updateStartButton(!0)}))}))}},{key:"initializeStartIcon",value:function(){var t=this;r.HTML.startPrincipalButton.addEventListener("click",(function(){t.updateStartButton(!1)}))}},{key:"initializeRapidityIcon",value:function(){var t=this;this.displayDivButtons(r.HTML.rapidityDiv,r.HTML.rapidityPrincipalButton,r.HTML.rapidityParent),r.HTML.rapidityButtons.forEach((function(e){e.addEventListener("click",(function(){r.HTML.rapidityButtons.forEach((function(t){return t.classList.remove("bg-success","text-light")})),e.classList.add("bg-success","text-light"),t.getApp().setRapidity(e.dataset.rapidity),r.HTML.rapidityDiv.style.display="none",t.updateStartButton(!0)}))}))}},{key:"initializeColorIcon",value:function(){var t=this;this.displayDivButtons(r.HTML.colorDiv,r.HTML.colorPrincipalButton,r.HTML.colorParent),r.HTML.colorButtons.forEach((function(e){e.addEventListener("click",(function(){r.HTML.colorPrincipalButton.classList.remove("blue","green","yellow","red");var n=e.dataset.color;t.getApp().setValueAdd(parseInt(e.dataset.value)),r.HTML.colorPrincipalButton.classList.add(n),r.HTML.colorDiv.style.display="none";var i="wall"===e.dataset.color;r.HTML.colorIcon.style.display=i?"none":"block",r.HTML.wallIcon.style.display=i?"block":"none"}))}))}},{key:"initializeDrawIcon",value:function(){var t=this;r.HTML.drawPrincipalButton.addEventListener("click",(function(){t.getApp().stopAnimation(),t.updateStartButton(!0),t.updateDrawButton()}))}},{key:"initializeTrashIcon",value:function(){var t=this;r.HTML.trashPrincipalButton.addEventListener("click",(function(){t.getApp().cleanGrid(),t.getApp().stopAnimation(),t.updateStartButton(!0)}))}},{key:"initializeGridIcon",value:function(){var t=this;r.HTML.gridPrincipalButton.addEventListener("click",(function(){r.HTML.gridPrincipalButton.classList.toggle("active"),t.getApp().setLines(!t.getApp().getLines()),t.getApp().getLines()||t.getApp().getBoardCanvas().clearCanvas(),t.getApp().getBoardCanvas().drawGrid()}))}},{key:"initializeBordureIcon",value:function(){var t=this;r.HTML.borderPrincipalButton.addEventListener("click",(function(){r.HTML.borderPrincipalButton.classList.toggle("active"),t.getApp().setBorder(!t.getApp().getBorder()),(0,a.$)("canvas").classList.toggle("canvas-border")}))}},{key:"initializeHistoryIcon",value:function(){var t=this;r.HTML.historyPrincipalButton.addEventListener("click",(function(){r.HTML.historyPrincipalButton.classList.toggle("active"),t.getApp().setHistory(!t.getApp().getHistory()),t.getApp().getHistory()||t.getApp().getBoardCanvas().clearCanvas(),t.getApp().getBoardCanvas().drawGrid()}))}},{key:"initializeArrowsButton",value:function(){var t=this;this.displayDivButtons(r.HTML.moveDiv,r.HTML.movePrincipalButton,r.HTML.moveParent),r.HTML.moveButtons.forEach((function(e){e.addEventListener("click",(function(){t.updateArrows(e.dataset.direction)}))}))}},{key:"updateArrows",value:function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);this.getApp().getBoard()["move".concat(e)](),this.getApp().getBoardCanvas().drawGrid()}},{key:"initializeZoomButton",value:function(){var t=this;this.displayDivButtons(r.HTML.zoomDiv,r.HTML.zoomPrincipalButton,r.HTML.zoomParent),r.HTML.zoomButtons.forEach((function(e){e.addEventListener("click",(function(){t.updateZoom(e.dataset.value)}))}))}},{key:"updateZoom",value:function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);this.getApp()["setCellSizeZoom".concat(e)]()}},{key:"initializeDefineRulesButton",value:function(){var t=this;r.HTML.defineRulesPrincipalButton.addEventListener("click",(function(){t.getApp().stopAnimation(),t.updateStartButton(!0)})),this.initializeDefineRulesModal()}},{key:"initializeDefineRulesModal",value:function(){var t=this;r.HTML.applyDefineRulesButton.addEventListener("click",(function(){t.getApp().setBirth(new Set(Array.from(r.HTML.birthDefineRulesCheckboxes).filter((function(t){return t.checked})).map((function(t){return parseInt(t.value)})))),t.getApp().setSurvival(new Set(Array.from(r.HTML.survivalDefineRulesCheckboxes).filter((function(t){return t.checked})).map((function(t){return parseInt(t.value)}))))}))}},{key:"initializePredefineRulesButton",value:function(){var t=this;r.HTML.predefineRulesPrincipalButton.addEventListener("click",(function(){t.getApp().stopAnimation(),t.updateStartButton(!0)})),this.initializePredefineRulesModal()}},{key:"initializePredefineRulesModal",value:function(){var t=this;r.HTML.applyPredefineRulesButton.addEventListener("click",(function(){t.getApp().verifyInputRules();var e=s(r.HTML.predefineRulesSelect.value.split("/").map((function(t){return new Set(t.split("").map(Number))})),2),n=e[0],i=e[1];t.getApp().setBirth(n),t.getApp().setSurvival(i),t.getApp().verifyInputRules()}))}},{key:"initializeKeyboard",value:function(){var t=this;document.addEventListener("keydown",(function(e){e.ctrlKey&&["+","-"].includes(e.key)&&(e.preventDefault(),t.updateZoom("+"===e.key?"In":"Out")),["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),t.updateArrows(e.key.slice(5)))}))}},{key:"initializeDocButton",value:function(){r.HTML.toggleDocButton.addEventListener("click",(function(){r.HTML.gameWindow.classList.contains("desactivate")?(r.HTML.gameWindow.classList.remove("desactivate"),r.HTML.docWindow.classList.add("desactivate"),r.HTML.toggleDocIcon.className="bi bi-question-circle-fill"):(r.HTML.gameWindow.classList.add("desactivate"),r.HTML.docWindow.classList.remove("desactivate"),r.HTML.toggleDocIcon.className="bi bi-controller")}))}}],e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}()},"./src/js/HTML.js":(t,e,n)=>{n.r(e),n.d(e,{HTML:()=>l});var i=n("./src/js/utils.js");function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,u(i.key),i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e,n){return(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}var l=o((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));s(l,"simulationPrincipalButton",(0,i.$)("#simulationPrincipalButton")),s(l,"hasardConfigureCheckbox",(0,i.$)("#hasardConfigureCheckbox")),s(l,"rowsConfigureInput",(0,i.$)("#rowsConfigureInput")),s(l,"columnsConfigureInput",(0,i.$)("#columnsConfigureInput")),s(l,"cellSizeConfigureInput",(0,i.$)("#cellSizeConfigureInput")),s(l,"applyConfigureButton",(0,i.$)("#applyConfigureButton")),s(l,"weightRandomInput0",(0,i.$)("#weightRandomInput0")),s(l,"weightFullRandomInputs",(0,i.$All)("#weightRandomInputs .weight")),s(l,"applyRandombutton",(0,i.$)("#applyRandombutton")),s(l,"weightRandomSpan0",(0,i.$)("#weightRandomSpan0")),s(l,"weightRandomSpans",[(0,i.$)("#weightRandomSpan1"),(0,i.$)("#weightRandomSpan2"),(0,i.$)("#weightRandomSpan3"),(0,i.$)("#weightRandomSpan4")]),s(l,"savePrincipalButton",(0,i.$)("#savePrincipalButton")),s(l,"nameSaveInput",(0,i.$)("#nameSaveInput")),s(l,"applySaveButton",(0,i.$)("#applySaveButton")),s(l,"loadPrincipalButton",(0,i.$)("#loadPrincipalButton")),s(l,"configLoadSelect",(0,i.$)("#configLoadSelect")),s(l,"applyLoadButton",(0,i.$)("#applyLoadButton")),s(l,"arrayGridEnterInput",(0,i.$)("#arrayGridEnterInput")),s(l,"applyGridEnterButton",(0,i.$)("#applyGridEnterButton")),s(l,"errorGridEnterP",(0,i.$)("#errorGridEnterP")),s(l,"gameWindow",(0,i.$)("#gameWindow")),s(l,"docWindow",(0,i.$)("#docWindow")),s(l,"toggleDocIcon",(0,i.$)("#toggleDocIcon")),s(l,"toggleDocButton",(0,i.$)("#toggleDocButton")),s(l,"copyPrincipalButton",(0,i.$)("#copyPrincipalButton")),s(l,"stepPrincipalButton",(0,i.$)("#stepPrincipalButton")),s(l,"jumpPrincipalButton",(0,i.$)("#jumpPrincipalButton")),s(l,"jumpDiv",(0,i.$)("#jumpButtons")),s(l,"jumpButtons",(0,i.$All)("#jumpButtons button")),s(l,"jumpParent",(0,i.$)("#jumpParent")),s(l,"startPrincipalButton",(0,i.$)("#startPrincipalButton")),s(l,"rapidityPrincipalButton",(0,i.$)("#rapidityPrincipalButton")),s(l,"rapidityDiv",(0,i.$)("#rapidityButtons")),s(l,"rapidityButtons",(0,i.$All)("#rapidityButtons button")),s(l,"rapidityParent",(0,i.$)("#rapidityParent")),s(l,"trashPrincipalButton",(0,i.$)("#trashPrincipalButton")),s(l,"gridPrincipalButton",(0,i.$)("#gridPrincipalButton")),s(l,"borderPrincipalButton",(0,i.$)("#borderPrincipalButton")),s(l,"drawPrincipalButton",(0,i.$)("#drawPrincipalButton")),s(l,"historyPrincipalButton",(0,i.$)("#historyPrincipalButton")),s(l,"colorIcon",(0,i.$)("#colorIcon")),s(l,"wallIcon",(0,i.$)("#wallIcon")),s(l,"colorPrincipalButton",(0,i.$)("#colorPrincipalButton")),s(l,"colorDiv",(0,i.$)("#colorButtons")),s(l,"colorButtons",(0,i.$All)("#colorButtons button")),s(l,"colorParent",(0,i.$)("#colorParent")),s(l,"movePrincipalButton",(0,i.$)("#movePrincipalButton")),s(l,"moveDiv",(0,i.$)("#moveButtons")),s(l,"moveButtons",(0,i.$All)("#moveButtons button")),s(l,"moveParent",(0,i.$)("#moveParent")),s(l,"zoomPrincipalButton",(0,i.$)("#zoomPrincipalButton")),s(l,"zoomDiv",(0,i.$)("#zoomButtons")),s(l,"zoomButtons",(0,i.$All)("#zoomButtons button")),s(l,"zoomParent",(0,i.$)("#zoomParent")),s(l,"defineRulesPrincipalButton",(0,i.$)("#defineRulesPrincipalButton")),s(l,"birthDefineRulesCheckboxes",(0,i.$All)("#birthDefineRulesCheckboxes input")),s(l,"survivalDefineRulesCheckboxes",(0,i.$All)("#survivalDefineRulesCheckboxes input")),s(l,"applyDefineRulesButton",(0,i.$)("#applyDefineRulesButton")),s(l,"predefineRulesPrincipalButton",(0,i.$)("#predefineRulesPrincipalButton")),s(l,"predefineRulesSelect",(0,i.$)("#predefineRulesSelect")),s(l,"applyPredefineRulesButton",(0,i.$)("#applyPredefineRulesButton")),s(l,"cancelPredefineRulesButton",(0,i.$)("#cancelPredefineRulesButton")),s(l,"canvasContainer",(0,i.$)("#gameLife")),s(l,"canvas",(0,i.$)("#gameCanvas")),s(l,"generation",(0,i.$)("#generation")),s(l,"livingCells",(0,i.$)("#livingCells")),s(l,"totalCells",(0,i.$)("#totalCells"))},"./src/js/Window.js":(t,e,n)=>{n.r(e);var i=n("./src/js/EventHandler.js"),a=n("./src/js/Board.js"),r=n("./src/js/BoardCanvas.js"),o=n("./src/js/HTML.js"),s=n("./src/js/utils.js"),u=n("./src/js/Config.js");function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,v(i.key),i)}}function v(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}function p(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function d(t,e,n){return t.set(h(t,e),n),n}function f(t,e){return t.get(h(t,e))}function h(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var g=new WeakMap,y=new WeakMap,m=new WeakMap,C=new WeakMap,b=new WeakMap,w=new WeakMap,k=new WeakMap,L=new WeakMap,B=new WeakMap,A=new WeakMap,S=new WeakMap,M=new WeakMap,E=new WeakMap,T=new WeakMap,I=new WeakMap,G=new WeakMap,P=new WeakMap,H=new WeakMap,D=new WeakMap,x=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,g,void 0),p(this,y,void 0),p(this,m,void 0),p(this,C,void 0),p(this,b,void 0),p(this,w,void 0),p(this,k,void 0),p(this,L,void 0),p(this,B,void 0),p(this,A,void 0),p(this,S,void 0),p(this,M,void 0),p(this,E,void 0),p(this,T,void 0),p(this,I,void 0),p(this,G,void 0),p(this,P,void 0),p(this,H,void 0),p(this,D,void 0),d(g,this,void 0),d(y,this,void 0),d(m,this,20),d(C,this,20),d(b,this,12),d(w,this,1),d(k,this,new Set([2,3])),d(L,this,new Set([3])),d(B,this,!1),d(A,this,[.9,.1,0,0,0]),d(S,this,!1),d(M,this,!1),d(E,this,!1),d(T,this,{}),d(I,this,5),d(G,this,1),d(P,this,!1),d(H,this,!1),d(D,this,!1),this.initialize()},e=[{key:"getBoard",value:function(){return f(g,this)}},{key:"setBoard",value:function(t){d(g,this,t)}},{key:"getBoardCanvas",value:function(){return f(y,this)}},{key:"setBoardCanvas",value:function(t){d(y,this,t)}},{key:"getRowCanvas",value:function(){return f(m,this)}},{key:"setRowCanvas",value:function(t){d(m,this,t)}},{key:"getColumnCanvas",value:function(){return f(C,this)}},{key:"setColumnCanvas",value:function(t){d(C,this,t)}},{key:"getCellSize",value:function(){return f(b,this)}},{key:"setCellSize",value:function(t){d(b,this,t)}},{key:"getValueAdd",value:function(){return f(w,this)}},{key:"setValueAdd",value:function(t){d(w,this,t)}},{key:"getBirth",value:function(){return f(k,this)}},{key:"setBirth",value:function(t){d(k,this,t)}},{key:"getSurvival",value:function(){return f(L,this)}},{key:"setSurvival",value:function(t){d(L,this,t)}},{key:"getRandomize",value:function(){return f(B,this)}},{key:"setRandomize",value:function(t){d(B,this,t)}},{key:"getWeights",value:function(){return f(A,this)}},{key:"setWeights",value:function(t){d(A,this,t)}},{key:"getBorder",value:function(){return f(S,this)}},{key:"setBorder",value:function(t){d(S,this,t)}},{key:"getHistory",value:function(){return f(M,this)}},{key:"setHistory",value:function(t){d(M,this,t)}},{key:"getLines",value:function(){return f(E,this)}},{key:"setLines",value:function(t){d(E,this,t)}},{key:"getSaves",value:function(){return f(T,this)}},{key:"setSaves",value:function(t,e){f(T,this)[t]=e}},{key:"getRapidity",value:function(){return f(I,this)}},{key:"setRapidity",value:function(t){d(I,this,t)}},{key:"getStep",value:function(){return f(G,this)}},{key:"setStep",value:function(t){d(G,this,t)}},{key:"getIsPlaying",value:function(){return f(P,this)}},{key:"setIsPlaying",value:function(t){d(P,this,t)}},{key:"getEnableDraw",value:function(){return f(H,this)}},{key:"setEnableDraw",value:function(t){d(H,this,t)}},{key:"getIsDrawing",value:function(){return f(D,this)}},{key:"setIsDrawing",value:function(t){d(D,this,t)}},{key:"verifyInputRules",value:function(){for(var t=0;t<9;t++){var e=(0,s.$)("#birthRule".concat(t));e.checked=this.getBirth().has(parseInt(e.value));var n=(0,s.$)("#survivalRule".concat(t));n.checked=this.getSurvival().has(parseInt(n.value))}}},{key:"initialize",value:function(){this.verifyInputRules(),new i.EventHandler(this),this.setBoard(new a.Board(this)),this.resetCanvas(),this.setBoardCanvas(new r.BoardCanvas(this)),this.getBoard().initPlaneur(),this.getBoardCanvas().drawGrid(),this.toggleDrawingEvents()}},{key:"resetCanvas",value:function(){var t=(0,s.$)("canvas"),e=t.parentNode;e.removeChild(t);var n=document.createElement("canvas");e.appendChild(n)}},{key:"formatGrid",value:function(t,e,n){var i=o.HTML.canvasContainer.offsetWidth-20,a=Math.min(parseInt(i/e),u.Config.MAX_CELL_SIZE,n);this.setRowCanvas(t),this.setColumnCanvas(e),this.setCellSize(a)}},{key:"cleanGrid",value:function(){this.clearGrid(),this.stopAnimation(),this.updateBottomNav(!0)}},{key:"calculateNextGeneration",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?1:this.getStep(),e=0;e<t;e++)this.getBoard().getNextGeneration(),this.getBoard().updateHistoryGrid(),this.getBoard().countAliveCells(),this.updateBottomNav();this.getBoardCanvas().drawGrid()}},{key:"updateBottomNav",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o.HTML.generation.textContent=t?"0":this.getBoard().getGeneration(),o.HTML.livingCells.textContent=t?"0":this.getBoard().getIsAlive(),o.HTML.totalCells.textContent=t?"0":this.getBoard().getTotalAlive()}},{key:"setCellSizeZoomIn",value:function(){var t=this.getCellSize()+1;t>u.Config.MAX_CELL_SIZE&&(t=u.Config.MAX_CELL_SIZE);var e=o.HTML.canvasContainer.offsetWidth-20,n=Math.min(Math.floor(e/this.getColumnCanvas()),t);this.setCellSize(n),this.getBoardCanvas().setupCanvas(),this.getBoardCanvas().drawGrid()}},{key:"setCellSizeZoomOut",value:function(){var t=this.getCellSize()-1;t<u.Config.MIN_CELL_SIZE&&(t=u.Config.MIN_CELL_SIZE),this.setCellSize(t),this.getBoardCanvas().setupCanvas(),this.getBoardCanvas().drawGrid()}},{key:"toggleAnimation",value:function(){this.setIsPlaying(!this.getIsPlaying()),this.getIsPlaying()?this.startAnimation(this.getRapidity()):this.stopAnimation()}},{key:"startAnimation",value:function(){var t=this;this.intervalId=setInterval((function(){t.calculateNextGeneration(!0)}),1e3/this.getRapidity())}},{key:"stopAnimation",value:function(){clearInterval(this.intervalId),this.intervalId=null}},{key:"toggleDrawingEvents",value:function(){this.getEnableDraw()?this.addDrawingEvent():this.removeDrawingEvent()}},{key:"addDrawingEvent",value:function(){this.getBoardCanvas().getCanvas().addEventListener("mousedown",this.startDrawing.bind(this)),this.getBoardCanvas().getCanvas().addEventListener("mouseup",this.stopDrawing.bind(this)),this.getBoardCanvas().getCanvas().addEventListener("mousemove",this.drawIfDrawing.bind(this))}},{key:"removeDrawingEvent",value:function(){this.getBoardCanvas().getCanvas().removeEventListener("mousedown",this.startDrawing.bind(this)),this.getBoardCanvas().getCanvas().removeEventListener("mouseup",this.stopDrawing.bind(this)),this.getBoardCanvas().getCanvas().removeEventListener("mousemove",this.drawIfDrawing.bind(this))}},{key:"startDrawing",value:function(t){this.getEnableDraw()&&(this.setIsDrawing(!0),this.draw(t))}},{key:"stopDrawing",value:function(){this.setIsDrawing(!1)}},{key:"drawIfDrawing",value:function(t){this.getIsDrawing()&&this.draw(t)}},{key:"draw",value:function(t){var e=Math.floor(t.offsetX/this.getCellSize()),n=Math.floor(t.offsetY/this.getCellSize());n>=0&&n<this.getBoard().getGridEnableDraw().length&&e>=0&&e<this.getBoard().getGridEnableDraw()[n].length&&(this.writeInGrid(n,e),this.getBoardCanvas().drawGrid())}},{key:"writeInGrid",value:function(t,e){var n;n=this.getBoard().getGridValue(t,e)===this.getValueAdd()?0:this.getValueAdd(),this.getBoard().setGridValue(t,e,n),0===n&&this.getBoard().setGridHistoryValue(t,e,0)}},{key:"clearGrid",value:function(){for(var t=0;t<this.getRowCanvas();t++)for(var e=0;e<this.getColumnCanvas();e++)this.getBoard().setGridValue(t,e,0),this.getBoard().setGridHistoryValue(t,e,0);this.getBoardCanvas().drawGrid()}}],e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();document.addEventListener("DOMContentLoaded",(function(){new x}))},"./src/js/utils.js":(t,e,n)=>{function i(t){return document.querySelector(t)}function a(t){return document.querySelectorAll(t)}n.r(e),n.d(e,{$:()=>i,$All:()=>a})}},e={};function n(i){var a=e[i];if(void 0!==a)return a.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};n.r({});n("./src/js/Window.js")})();
//# sourceMappingURL=bundle.js.map